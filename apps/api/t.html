<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hardware for AI - Football Pitch Edition</title>
    <style>
        :root {
            /* Football pitch palette */
            --pitch-dark: #0a5f0a;
            --pitch-light: #0d7a0d;
            --line-color: rgba(255, 255, 255, 0.7);

            /* Card + text colors */
            --card-bg: #ffffff;
            --card-border: #d0d7e2;
            --card-shadow: 0 4px 12px rgba(15, 23, 42, 0.08);
            --ink-0: #111827;
            --ink-1: #4b5563;

            /* Accents */
            --accent-gold: #d4a013;
            --accent-red: #d94444;
            --accent-blue: #2b6cb0;
            --accent-green: #17813d;

            --muted-bg: #f5f7fb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ========== PITCH BACKGROUND ========== */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background:
                repeating-linear-gradient(
                    90deg,
                    var(--pitch-dark) 0px,
                    var(--pitch-dark) 55px,
                    var(--pitch-light) 55px,
                    var(--pitch-light) 110px
                );
            min-height: 100vh;
            padding: 20px;
            color: var(--ink-0);
            position: relative;
            overflow-x: hidden;
        }

        /* Stadium lights glow */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            height: 160px;
            background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
            opacity: 0.75;
        }

        /* Center circle */
        body::after {
            content: '';
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 220px;
            height: 220px;
            border: 2px solid rgba(255, 255, 255, 0.65);
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
        }

        /* Floating football emojis background layer */
        #footballSky {
            position: fixed;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 0; /* behind content, above grass and light effects */
        }

        /* Updated Floating Logic: Horizontal Movement */
        .football-float {
            position: absolute;
            font-size: 32px;
            opacity: 0.6;
            /* Start off-screen to the left */
            left: -10vw;
            /* We use a CSS variable for duration to randomize speed */
            animation: sidePass var(--duration, 15s) linear infinite;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
            z-index: 0;
        }

        @keyframes sidePass {
            0% {
                /* Start left, rotate 0 */
                transform: translateX(0) rotate(0deg);
            }
            100% {
                /* Move to right (120vw to ensure it clears screen), rotate 360 */
                transform: translateX(120vw) rotate(360deg);
            }
        }

        /* Main content container */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            position: relative;
            z-index: 1; /* above floating emojis */
        }

        /* ========== SCOREBOARD HEADER ========== */
        .scoreboard {
            background: #ffffffdd;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 20px 18px 18px;
            margin-bottom: 24px;
            box-shadow: 0 4px 16px rgba(15, 23, 42, 0.3);
            position: relative;
            overflow: hidden;
        }

        .scoreboard::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg,
                #e53e3e 0%, #e53e3e 33%,
                #ecc94b 33%, #ecc94b 66%,
                #38a169 66%, #38a169 100%);
            opacity: 0.9;
        }

        h1 {
            text-align: center;
            font-size: 2.4rem;
            font-weight: 800;
            margin-bottom: 6px;
            color: #1f2933;
            letter-spacing: 0.08em;
        }

        .subtitle {
            text-align: center;
            color: #4b5563;
            font-size: 0.95rem;
            font-weight: 500;
            letter-spacing: 0.03em;
        }

        /* ========== CAST / LINEUP CARDS ========== */
        .cast-glance {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 14px;
            margin: 20px 0 20px;
        }

        .cast-card {
            background: #ffffffee;
            border-radius: 12px;
            padding: 10px 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            border: 1px solid var(--card-border);
            box-shadow: var(--card-shadow);
            position: relative;
        }

        .cast-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 12px;
            right: 12px;
            height: 3px;
            border-radius: 999px;
            background: var(--cast-color, #9ca3af);
            opacity: 0.9;
        }

        .cast-card.cpu { --cast-color: #e53e3e; }
        .cast-card.gpu { --cast-color: #3182ce; }
        .cast-card.tpu { --cast-color: #d69e2e; }
        .cast-card.fpga { --cast-color: #2f855a; }

        .avatar {
            width: 46px;
            height: 46px;
            border-radius: 12px;
            display: grid;
            place-items: center;
            font-size: 24px;
            background: radial-gradient(circle at 30% 20%, #ffffff 0%, #f1f5f9 55%, #e2e8f0 100%);
            border: 1px solid #cbd5e1;
        }

        .cast-name {
            font-weight: 700;
            color: var(--ink-0);
            margin-bottom: 2px;
        }

        .cast-role {
            font-size: .8rem;
            color: var(--ink-1);
        }

        .chip-role {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: .7rem;
            border: 1px solid rgba(99, 102, 241, .35);
            background: rgba(129, 140, 248, .08);
            color: #4338ca;
            margin-top: 4px;
        }

        /* ========== TOP PROGRESS BAR ========== */
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 999px;
            margin-bottom: 22px;
            overflow: hidden;
            border: 1px solid #d1d5db;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #63b3ed 0%, #ecc94b 50%, #48bb78 100%);
            border-radius: inherit;
            transition: width .4s ease;
            box-shadow: 0 0 6px rgba(59, 130, 246, 0.7);
            width: 0%;
        }

        /* ========== STEP CARDS ========== */
        .steps-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
            margin-bottom: 32px;
        }

        .step {
            background: var(--card-bg);
            border-radius: 14px;
            padding: 14px 16px 16px;
            box-shadow: var(--card-shadow);
            cursor: pointer;
            transition: box-shadow .2s ease, transform .15s ease, border-color .2s ease, background-color .15s ease;
            opacity: 0;
            transform: translateY(8px);
            animation: stepIn .35s ease forwards;
            border: 1px solid var(--card-border);
            outline: none;
        }

        .step:nth-child(1) { animation-delay: 0.05s; }
        .step:nth-child(2) { animation-delay: 0.1s; }
        .step:nth-child(3) { animation-delay: 0.15s; }
        .step:nth-child(4) { animation-delay: 0.2s; }
        .step:nth-child(5) { animation-delay: 0.25s; }
        .step:nth-child(6) { animation-delay: 0.3s; }
        .step:nth-child(7) { animation-delay: 0.35s; }
        .step:nth-child(8) { animation-delay: 0.4s; }

        .step:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(15, 23, 42, 0.24);
            border-color: #cbd5e1;
        }

        .step.active {
            background: #f9fafb;
            border-color: #93c5fd;
            box-shadow: 0 6px 18px rgba(37, 99, 235, 0.2);
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 6px;
        }

        .step-number {
            width: 42px;
            height: 42px;
            border-radius: 999px;
            background: radial-gradient(circle at 30% 20%, #ffffff 0%, #e0ecff 55%, #c4ddff 100%);
            color: var(--ink-0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            font-weight: 700;
            flex-shrink: 0;
            border: 1px solid #bfdbfe;
            position: relative;
        }

        .step-number::after {
            content: "";
            position: absolute;
            right: -6px;
            bottom: -6px;
            width: 18px;
            height: 18px;
            display: grid;
            place-items: center;
            font-size: 0.75rem;
            background: #ffffff;
            border: 1px solid #cbd5e1;
            border-radius: 999px;
        }

        .step:nth-of-type(1) .step-number::after { content: "üìö"; }
        .step:nth-of-type(2) .step-number::after { content: "üèõÔ∏è"; }
        .step:nth-of-type(3) .step-number::after { content: "üß†"; }
        .step:nth-of-type(4) .step-number::after { content: "üéÆ"; }
        .step:nth-of-type(5) .step-number::after { content: "‚ö°"; }
        .step:nth-of-type(6) .step-number::after { content: "‚òÅÔ∏è"; }
        .step:nth-of-type(7) .step-number::after { content: "üéì"; }
        .step:nth-of-type(8) .step-number::after { content: "‚ôªÔ∏è"; }

        .step-title {
            font-size: 1rem;
            font-weight: 700;
            color: var(--ink-0);
        }

        .step-content {
            display: none;
            padding-left: 56px;
            margin-top: 8px;
        }

        .step.active .step-content {
            display: block;
        }

        .step-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--ink-1);
            margin-bottom: 10px;
        }

        .visual-icon {
            font-size: 2.1rem;
            text-align: center;
            margin: 10px 0;
        }

        /* Info box */
        .info-box {
            background: var(--muted-bg);
            border-radius: 10px;
            border-left: 4px solid #60a5fa;
            padding: 10px 12px;
            margin: 8px 0;
            font-size: 0.9rem;
        }

        .step.active .info-box {
            border-left-color: #3b82f6;
        }

        .info-box-title {
            font-weight: 600;
            color: #1e3a8a;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .info-box ul {
            list-style: none;
            padding-left: 0;
        }

        .info-box li {
            margin: 2px 0;
        }

        .info-box li::before {
            content: "‚Ä¢ ";
            color: #16a34a;
            font-weight: bold;
            margin-right: 4px;
        }

        /* Comparison cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 12px;
            margin: 10px 0;
        }

        .comparison-card {
            background: #ffffff;
            border: 1px solid var(--card-border);
            border-radius: 10px;
            padding: 10px 12px;
            box-shadow: var(--card-shadow);
            font-size: 0.9rem;
        }

        .comparison-card h4 {
            color: #1d4ed8;
            margin-bottom: 6px;
            font-size: 0.95rem;
        }

        .comparison-card ul {
            list-style: none;
            padding: 0;
        }

        .comparison-card li {
            padding: 4px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .comparison-card li:last-child {
            border-bottom: none;
        }

        .comparison-card li::before {
            content: "‚Ä¢ ";
            color: #16a34a;
            font-weight: bold;
            margin-right: 4px;
        }

        /* ========== SIMULATION BLOCKS ========== */
        .simulation-container {
            background: #f9fafb;
            border: 1px solid #d1d5db;
            border-radius: 10px;
            padding: 12px;
            margin: 12px 0;
        }

        .simulation-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
            font-size: 0.9rem;
            text-align: center;
        }

        .processor-demo {
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            margin-top: 6px;
        }

        .processor-demo h4 {
            color: #111827;
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .demo-canvas {
            background: #f3f4f6;
            border-radius: 8px;
            margin: 8px 0;
            min-height: 70px;
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            padding: 8px;
            justify-content: center;
            align-items: center;
            border: 1px solid #e5e7eb;
        }

        .cpu-customer,
        .gpu-customer {
            width: 26px;
            height: 26px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            font-size: 1.05rem;
            background: #e5e7eb;
            transition: all 0.25s ease;
        }

        .cpu-customer.processing,
        .gpu-customer.processing {
            background: #fbbf24;
            transform: translateY(-1px);
            box-shadow: 0 0 6px rgba(245, 158, 11, 0.6);
        }

        .cpu-customer.done,
        .gpu-customer.done {
            background: #bbf7d0;
        }

        /* TPU grid */
        .tpu-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            width: 130px;
            margin: 0 auto 8px;
        }

        .tpu-dancer {
            width: 26px;
            height: 26px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            font-size: 1.05rem;
            background: #e5e7eb;
            transition: background 0.2s, transform 0.2s;
        }

        .tpu-dancer.active {
            background: #c7d2fe;
            transform: scale(1.05);
        }

        /* Generic control buttons for simulations */
        .control-btn {
            background: #2563eb;
            color: #ffffff;
            border: none;
            padding: 7px 14px;
            border-radius: 999px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85rem;
            transition: background-color 0.2s ease, transform 0.1s ease, box-shadow 0.15s ease;
            margin: 5px 4px;
        }

        .control-btn:hover {
            background: #1d4ed8;
            box-shadow: 0 3px 8px rgba(37, 99, 235, 0.45);
            transform: translateY(-1px);
        }

        .control-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        /* ========== RACE SIMULATION ========== */
        .race-row {
            display: grid;
            grid-template-columns: 150px 1fr 70px;
            gap: 6px;
            align-items: center;
            margin: 5px 0;
            font-size: 0.85rem;
        }

        .race-label {
            text-align: right;
            padding-right: 4px;
            color: var(--ink-1);
        }

        .race-track {
            position: relative;
            height: 14px;
            border-radius: 999px;
            background: #e5e7eb;
            overflow: hidden;
            border: 1px solid #d4d4d8;
        }

        .race-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0%;
            border-radius: 999px;
            transition: width 0.15s linear;
        }

        .cpu-bar {
            background: linear-gradient(90deg, #9ca3af, #d1d5db);
        }

        .gpu-bar {
            background: linear-gradient(90deg, #60a5fa, #22c55e);
        }

        .tpu-bar {
            background: linear-gradient(90deg, #a855f7, #facc15);
        }

        .race-status {
            font-size: 0.8rem;
            color: var(--ink-1);
        }

        /* Quiz / notes */
        .quiz-section {
            margin-top: 10px;
            padding: 10px;
            background: #fffbeb;
            border-radius: 10px;
            border: 1px solid #fbbf24;
            font-size: 0.9rem;
        }

        .quiz-title {
            font-weight: 600;
            color: #b45309;
        }

        select#hwSelect {
            width: 100%;
            padding: 9px;
            border-radius: 8px;
            border: 1px solid #cbd5e1;
            font-size: 0.9rem;
            background: #ffffff;
            color: var(--ink-0);
        }

        /* Footer quote ‚Äì make it clearly visible on the pitch */
        .footer-note {
            text-align: center;
            font-style: italic;
            margin-top: 30px;
            font-size: .9rem;
            color: #fef9c3; /* soft yellow for contrast on green */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        }

        /* Animations + responsive */
        @keyframes stepIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.7rem; }
            .scoreboard { padding: 16px 12px; }
            .step-content { padding-left: 0; }
            .step-header { flex-direction: column; align-items: flex-start; }
            .race-row {
                grid-template-columns: 1fr;
                gap: 3px;
            }
            .race-label { text-align: left; }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <!-- Floating football emojis layer -->
    <div id="footballSky" aria-hidden="true"></div>

    <div class="container">
        <!-- Scoreboard Header -->
        <div class="scoreboard">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
                <div style="flex:1 1 auto; min-width:240px; text-align:center;">
                    <h1
                        data-en="‚öΩ Hardware for AI"
                        data-de="‚öΩ Hardware f√ºr KI"
                        data-es="‚öΩ Hardware para IA"
                        data-pt="‚öΩ Hardware para IA">
                        ‚öΩ Hardware for AI
                    </h1>
                    <p class="subtitle"
                       data-en="A football-themed tour of CPUs, GPUs, TPUs &amp; more"
                       data-de="Eine Fu√üball-Tour durch CPUs, GPUs, TPUs &amp; mehr"
                       data-es="Un recorrido futbolero por CPUs, GPUs, TPUs y m√°s"
                       data-pt="Um tour de futebol por CPUs, GPUs, TPUs e mais">
                        A football-themed tour of CPUs, GPUs, TPUs &amp; more
                    </p>
                </div>

                <!-- Language selector -->
                <div style="flex:0 0 auto;">
                    <select id="languageSelect"
                            style="padding: 8px 12px; border-radius: 8px; border: 1px solid #d1d5db; background: white; font-size:0.9rem; font-weight:600; cursor:pointer;">
                        <option value="en">üá¨üáß English</option>
                        <option value="de">üá©üá™ Deutsch</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                        <option value="pt">üáµüáπ Portugu√™s</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Hardware cast as top lineup -->
        <section class="cast-glance" aria-label="Hardware Cast">
            <article class="cast-card cpu">
                <div class="avatar">üß†</div>
                <div>
                    <div class="cast-name">CPU</div>
                    <div class="cast-role">Central Processing Unit ¬∑ <span class="chip-role">Playmaker in the middle</span></div>
                </div>
            </article>
            <article class="cast-card gpu">
                <div class="avatar">üéÆ</div>
                <div>
                    <div class="cast-name">GPU</div>
                    <div class="cast-role">Graphics Processing Unit ¬∑ <span class="chip-role">Whole-team attack</span></div>
                </div>
            </article>
            <article class="cast-card tpu">
                <div class="avatar">‚ö°</div>
                <div>
                    <div class="cast-name">TPU</div>
                    <div class="cast-role">Tensor Processing Unit ¬∑ <span class="chip-role">Tiki-taka engine</span></div>
                </div>
            </article>
            <article class="cast-card fpga">
                <div class="avatar">üîß</div>
                <div>
                    <div class="cast-name">FPGA</div>
                    <div class="cast-role">Reconfigurable Hardware ¬∑ <span class="chip-role">Tactical shapeshifter</span></div>
                </div>
            </article>
        </section>

        <!-- Match progress bar -->
        <div class="progress-bar" aria-label="Progress">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- STEPS -->
        <div class="steps-container" id="steps">
            <!-- STEP 1 -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title"
                         data-en="Key Terms &amp; Performance Concepts"
                         data-de="Grundbegriffe &amp; Performance-Konzepte"
                         data-es="Conceptos clave y rendimiento"
                         data-pt="Conceitos b√°sicos e desempenho">
                        Key Terms &amp; Performance Concepts
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">üìö ‚ûî üß†</div>
                    <p class="step-description"
                       data-en="Before comparing CPUs, GPUs, and TPUs, we need a shared vocabulary. These ideas show up in every ‚Äúwhy is my model so slow?‚Äù conversation."
                       data-de="Bevor wir CPUs, GPUs und TPUs vergleichen, brauchen wir eine gemeinsame Sprache. Diese Ideen tauchen in jedem ‚ÄûWarum ist mein Modell so langsam?‚Äú-Gespr√§ch auf."
                       data-es="Antes de comparar CPUs, GPUs y TPUs, necesitamos un vocabulario com√∫n. Estas ideas aparecen en cada conversaci√≥n de ‚Äú¬øpor qu√© mi modelo es tan lento?‚Äù."
                       data-pt="Antes de comparar CPUs, GPUs e TPUs, precisamos de um vocabul√°rio comum. Essas ideias aparecem em toda conversa de ‚Äúpor que meu modelo est√° t√£o lento?‚Äù.">
                        Before comparing CPUs, GPUs, and TPUs, we need a shared vocabulary. These ideas show up in every
                        ‚Äúwhy is my model so slow?‚Äù conversation.
                    </p>

                    <div class="info-box">
                        <div class="info-box-title">‚è±Ô∏è Latency</div>
                        Time from input to output.
                        Like how long it takes for <strong>one</strong> pass to turn into a shot on goal.
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üìä Throughput</div>
                        How much work we do per second.
                        Think of how many attacks your team can build per minute ‚Äî ‚Äúhow many chances can we create?‚Äù
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üì° Bandwidth</div>
                        How fast we can move data between memory and the processor.
                        If bandwidth is low, it‚Äôs like trying to counter-attack through a crowded midfield.
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">‚ö° Power &amp; Energy</div>
                        Power = sprinting speed right now. Energy = stamina over the full 90 minutes.
                        A chip can be very fast but burn out the ‚Äúteam budget‚Äù.
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üíæ Memory</div>
                        Where we keep model weights, activations and datasets.
                        Like the tactics board + all your playbooks ‚Äî if they don‚Äôt fit on the bench, you keep running to the locker room.
                    </div>
                </div>
            </div>

            <!-- STEP 2 -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title"
                         data-en="Von Neumann Architecture &amp; Bottleneck"
                         data-de="Von-Neumann-Architektur &amp; Flaschenhals"
                         data-es="Arquitectura de Von Neumann y cuello de botella"
                         data-pt="Arquitetura de Von Neumann &amp; gargalo">
                        Von Neumann Architecture &amp; Bottleneck
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">üèõÔ∏è ‚ûî üñ•Ô∏è</div>
                    <p class="step-description"
                       data-en="Most computers you use follow a Von Neumann design: memory on one side, processor on the other, and data constantly running back and forth between them."
                       data-de="Die meisten Computer, die du benutzt, folgen dem Von-Neumann-Design: Speicher auf der einen Seite, Prozessor auf der anderen und Daten, die st√§ndig hin- und herwandern."
                       data-es="La mayor√≠a de los ordenadores que usas siguen el dise√±o Von Neumann: memoria por un lado, procesador por el otro y datos que van y vienen entre ambos."
                       data-pt="A maioria dos computadores que voc√™ usa segue o modelo de Von Neumann: mem√≥ria de um lado, processador do outro e dados indo e voltando o tempo todo.">
                        Most computers you use follow a Von Neumann design: memory on one side, processor on the other,
                        and data constantly running back and forth between them.
                    </p>

                    <div class="info-box">
                        <div class="info-box-title">üéØ The Classic Trio</div>
                        <ul>
                            <li><strong>Memory Unit:</strong> Stores numbers, images, model weights, code.</li>
                            <li><strong>Control Unit:</strong> Decides which instruction (tactical step) to run next.</li>
                            <li><strong>ALU:</strong> Arithmetic Logic Unit ‚Äî does the math (add, multiply, compare).</li>
                        </ul>
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üöß Von Neumann Bottleneck</div>
                        The slow part is often not the math, but <strong>moving data</strong> in and out of memory.
                        AI accelerators try to:
                        <ul style="margin-top:4px;">
                            <li>Reuse data as much as possible on-chip (keep the ball in tight triangles).</li>
                            <li>Do a LOT of math each time data moves (make every pass count).</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- STEP 3: CPU -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title"
                         data-en="CPU ‚Äì One-By-One Shooting Drill üß†"
                         data-de="CPU ‚Äì Torschuss-Drill nacheinander üß†"
                         data-es="CPU ‚Äì Tiro a puerta uno por uno üß†"
                         data-pt="CPU ‚Äì Finaliza√ß√£o um de cada vez üß†">
                        CPU ‚Äì One-By-One Shooting Drill üß†
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">üß† ‚ûî ‚öΩ</div>
                    <p class="step-description"
                       data-en="The CPU is like a star playmaker running a finishing drill: one player, one ball, one shot at a time. Everyone else waits in line until it‚Äôs their turn."
                       data-de="Die CPU ist wie ein Spielmacher im Torschusstraining: ein Spieler, ein Ball, ein Schuss zurzeit. Alle anderen warten in der Schlange, bis sie dran sind."
                       data-es="La CPU es como un mediocampista estrella en un ejercicio de definici√≥n: un jugador, un bal√≥n y un tiro cada vez. El resto espera en la fila hasta su turno."
                       data-pt="A CPU √© como o camisa 10 em um treino de finaliza√ß√£o: um jogador, uma bola, um chute por vez. O resto do time espera na fila.">
                        The CPU is like a star playmaker running a finishing drill: one player, one ball, one shot at a time.
                        Everyone else waits in line until it‚Äôs their turn.
                    </p>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>‚úÖ CPU Strengths</h4>
                            <ul>
                                <li>Great at complex decisions and ‚Äúif this, then that‚Äù tactics</li>
                                <li>Strong for small models and general programs</li>
                                <li>Great single-thread performance (one player executing perfectly)</li>
                                <li>Perfect for orchestration and data loading (coach of the whole team)</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>‚ö†Ô∏è CPU Limits for Big AI</h4>
                            <ul>
                                <li>Struggles with huge matrix multiplications (full-team drills)</li>
                                <li>Too few lanes for massive batches of data</li>
                                <li>Big models overflow cache and hit slow RAM</li>
                                <li>Training deep nets can feel like extra time + penalties</li>
                            </ul>
                        </div>
                    </div>

                    <div class="simulation-container">
                        <div class="simulation-title"
                             data-en="CPU Drill ‚Äì One Player Shoots at a Time"
                             data-de="CPU-Drill ‚Äì Ein Spieler schie√üt nach dem anderen"
                             data-es="Ejercicio CPU ‚Äì Un jugador tira cada vez"
                             data-pt="Treino da CPU ‚Äì Um jogador chuta por vez">
                            CPU Drill ‚Äì One Player Shoots at a Time
                        </div>
                        <p style="text-align:center; color:var(--ink-1); margin-bottom:6px; font-size:0.88rem;"
                           data-en="Each emoji is a player in the shooting queue. The CPU lets one player at a time take a shot on goal."
                           data-de="Jedes Emoji ist ein Spieler in der Schuss-Schlange. Die CPU l√§sst immer nur einen Spieler auf das Tor schie√üen."
                           data-es="Cada emoji es un jugador en la fila de tiro. La CPU deja que solo un jugador dispare a puerta cada vez."
                           data-pt="Cada emoji √© um jogador na fila de finaliza√ß√£o. A CPU deixa apenas um jogador chutar ao gol por vez.">
                            Each emoji is a player in the shooting queue. The CPU lets <strong>one player at a time</strong> take a shot on goal.
                        </p>
                        <div class="processor-demo">
                            <h4>CPU Finishing Line üßë‚Äçü¶±‚öΩü•Ö</h4>
                            <div class="demo-canvas" id="cpuCanvas"></div>
                            <div style="font-size: 0.8rem; margin-bottom: 6px;">
                                Legend:
                                <span style="display:inline-block;width:12px;height:12px;background:#e5e7eb;border-radius:50%;margin:0 4px 0 6px;"></span> waiting in line
                                <span style="display:inline-block;width:12px;height:12px;background:#fbbf24;border-radius:50%;margin:0 4px;"></span> currently shooting
                                <span style="display:inline-block;width:12px;height:12px;background:#bbf7d0;border-radius:50%;margin:0 4px;"></span> finished their shot
                            </div>
                            <button class="control-btn" onclick="runCpuSim(event, this)">‚ñ∂ Run Shooting Drill</button>
                            <div style="margin-top:6px;font-size:0.8rem;color:var(--ink-1);" id="cpuCaption">
                                CPU: ‚ÄúOkay, strikers ‚Äì one at a time to the edge of the box!‚Äù
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 4: GPU -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">4</div>
                    <div class="step-title"
                         data-en="GPU ‚Äì Full-Team Training Drill üéÆ"
                         data-de="GPU ‚Äì Ganzes Team im Trainings-Drill üéÆ"
                         data-es="GPU ‚Äì Ejercicio de equipo completo üéÆ"
                         data-pt="GPU ‚Äì Treino com o time inteiro üéÆ">
                        GPU ‚Äì Full-Team Training Drill üéÆ
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">üéÆ ‚ûî üèüÔ∏è</div>
                    <p class="step-description"
                       data-en="A GPU is like running a high-intensity drill where the whole team practices finishes at once: many balls, many players, many shots in parallel."
                       data-de="Eine GPU ist wie ein intensiver Drill, bei dem das ganze Team gleichzeitig Abschl√ºsse trainiert: viele B√§lle, viele Spieler, viele Sch√ºsse parallel."
                       data-es="Una GPU es como un ejercicio de alta intensidad donde todo el equipo practica remates a la vez: muchos balones, muchos jugadores, muchos tiros en paralelo."
                       data-pt="Uma GPU √© como um treino intenso em que o time inteiro finaliza ao mesmo tempo: muitas bolas, muitos jogadores, muitos chutes em paralelo.">
                        A GPU is like running a high-intensity drill where the <strong>whole team</strong> practices finishes at once:
                        many balls, many players, many shots in parallel.
                    </p>

                    <div class="info-box">
                        <div class="info-box-title">‚ö° SIMT: Single Instruction, Multiple Threads</div>
                        One training pattern (‚Äúshoot from the edge of the box‚Äù) applied to many players at once.
                        Perfect for matrix multiplications: same operation, lots of data.
                    </div>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>üöÄ GPU Advantages</h4>
                            <ul>
                                <li>Massive parallelism (whole squad moving together)</li>
                                <li>Excellent for big batches and matrix math</li>
                                <li>Huge speedups for training &amp; inference</li>
                                <li>Deep-learning libraries are heavily optimized for GPUs</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>‚ùå GPU Trade-offs</h4>
                            <ul>
                                <li>Uses more power (like high-intensity pressing)</li>
                                <li>Less flexible for weird, branching tactics</li>
                                <li>More complex to ‚Äúcoach‚Äù at low level</li>
                                <li>Still limited by VRAM size and bandwidth (pitch size &amp; rules)</li>
                            </ul>
                        </div>
                    </div>

                    <div class="simulation-container">
                        <div class="simulation-title"
                             data-en="GPU Drill ‚Äì Whole Team Shoots Together"
                             data-de="GPU-Drill ‚Äì Ganzes Team schie√üt gemeinsam"
                             data-es="Ejercicio GPU ‚Äì Todo el equipo tira junto"
                             data-pt="Treino da GPU ‚Äì Time inteiro chuta junto">
                            GPU Drill ‚Äì Whole Team Shoots Together
                        </div>
                        <p style="text-align:center; color:var(--ink-1); margin-bottom:6px; font-size:0.88rem;"
                           data-en="Imagine several goals and lots of balls. When the GPU drill runs, many players shoot at once."
                           data-de="Stell dir mehrere Tore und viele B√§lle vor. Wenn der GPU-Drill l√§uft, schie√üen viele Spieler gleichzeitig."
                           data-es="Imagina varias porter√≠as y muchos balones. Cuando se ejecuta el ejercicio GPU, muchos jugadores disparan a la vez."
                           data-pt="Imagine v√°rios gols e muitas bolas. Quando o treino da GPU come√ßa, muitos jogadores chutam ao mesmo tempo.">
                            Imagine several goals and lots of balls. When the GPU drill runs, <strong>many players shoot at once</strong>.
                        </p>
                        <div class="processor-demo">
                            <h4>GPU Team Finishing üßë‚Äçü¶±‚öΩ‚öΩ‚öΩ</h4>
                            <div class="demo-canvas" id="gpuCanvas"></div>
                            <div style="font-size: 0.85rem; margin-bottom: 6px; color:var(--ink-1);">
                                When the drill starts, many players go from ‚Äúwaiting‚Äù to ‚Äúshooting‚Äù to ‚Äúdone‚Äù almost together.
                            </div>
                            <button class="control-btn" onclick="runGpuSim(event, this)">‚ö° Run Team Drill</button>
                            <div style="margin-top:6px;font-size:0.8rem;color:var(--ink-1);" id="gpuCaption">
                                GPU: ‚ÄúEveryone grab a ball ‚Äì we finish as a unit!‚Äù
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 5: TPU & FPGA -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">5</div>
                    <div class="step-title"
                         data-en="TPU &amp; FPGA ‚Äì Tiki-Taka Grid &amp; Shape-Shifter ‚ö°"
                         data-de="TPU &amp; FPGA ‚Äì Tiki-Taka-Gitter &amp; Formwandler ‚ö°"
                         data-es="TPU y FPGA ‚Äì Cuadr√≠cula tiki-taka y camale√≥n t√°ctico ‚ö°"
                         data-pt="TPU &amp; FPGA ‚Äì Grelha tiki-taka &amp; camale√£o t√°tico ‚ö°">
                        TPU &amp; FPGA ‚Äì Tiki-Taka Grid &amp; Shape-Shifter ‚ö°
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">‚ö° ‚ûî üîÑ</div>
                    <p class="step-description"
                       data-en="TPUs are like a perfectly drilled tiki-taka passing grid: the ball moves in waves across a tight formation. FPGAs are like a team that can completely change its shape for each opponent."
                       data-de="TPUs sind wie ein perfekt eingespieltes Tiki-Taka-Passgitter: Der Ball bewegt sich in Wellen durch eine enge Formation. FPGAs sind wie ein Team, das seine Formation f√ºr jeden Gegner komplett √§ndern kann."
                       data-es="Las TPUs son como una cuadr√≠cula de pases tiki-taka perfectamente entrenada: el bal√≥n se mueve en oleadas por una formaci√≥n compacta. Las FPGAs son como un equipo que cambia de forma para cada rival."
                       data-pt="As TPUs s√£o como uma grade de passes tiki-taka bem treinada: a bola se move em ondas por uma forma√ß√£o compacta. As FPGAs s√£o como um time que muda totalmente de forma para cada advers√°rio.">
                        TPUs are like a perfectly drilled tiki-taka passing grid: the ball moves in waves across a tight formation.
                        FPGAs are like a team that can completely change its shape for each opponent.
                    </p>

                    <div class="simulation-container">
                        <div class="simulation-title"
                             data-en="TPU Passing Grid ‚Äì Tiki-Taka Wave"
                             data-de="TPU-Passgitter ‚Äì Tiki-Taka-Welle"
                             data-es="Cuadr√≠cula de pases TPU ‚Äì Ola tiki-taka"
                             data-pt="Grade de passes da TPU ‚Äì onda tiki-taka">
                            TPU Passing Grid ‚Äì Tiki-Taka Wave
                        </div>
                        <p style="text-align:center; color:var(--ink-1); margin-bottom:6px; font-size:0.88rem;"
                           data-en="Each circle is a player in a tight passing grid. The highlight shows a passing wave moving diagonally ‚Äî just like the ball flowing through a choreographed pattern."
                           data-de="Jeder Kreis ist ein Spieler in einem engen Passgitter. Die Hervorhebung zeigt eine diagonale Passwelle ‚Äì so wie der Ball durch eine einstudierte Kombination l√§uft."
                           data-es="Cada c√≠rculo es un jugador en una cuadr√≠cula de pases compacta. El resaltado muestra una ola de pase diagonal, como el bal√≥n fluyendo por una jugada ensayada."
                           data-pt="Cada c√≠rculo √© um jogador em uma grade de passes apertada. O destaque mostra uma onda de passes na diagonal ‚Äì como a bola fluindo por uma jogada ensaiada.">
                            Each circle is a player in a tight passing grid. The highlight shows a passing <strong>wave</strong> moving diagonally
                            ‚Äî just like the ball flowing through a choreographed pattern.
                        </p>
                        <div class="processor-demo">
                            <h4>TPU Passing Pattern üîµ‚öΩ</h4>
                            <div class="tpu-grid" id="tpuGrid"></div>
                            <div style="font-size: 0.85rem; margin-bottom: 6px; color: var(--ink-1);">
                                Instead of random chaos, the whole grid follows a repeating ‚Äúpass to your diagonal teammate‚Äù wave.
                            </div>
                            <button class="control-btn" onclick="runTpuDance(event, this)">üéµ Run Passing Pattern</button>
                        </div>
                    </div>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>üî∑ TPU Snapshot</h4>
                            <ul>
                                <li>Designed by Google purely for tensor math</li>
                                <li>Uses systolic arrays to reuse data like a passing triangle</li>
                                <li>Great performance per watt on big models</li>
                                <li>Mostly accessed through Google Cloud</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>üîß FPGA Snapshot</h4>
                            <ul>
                                <li>Hardware you can ‚Äúrewire‚Äù with code (change formation)</li>
                                <li>Super low latency for streaming data (instant counters)</li>
                                <li>Used in finance, radios, robotics, networking</li>
                                <li>Harder to program, but extremely flexible</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 6: Cloud vs Edge + Hardware Race -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">6</div>
                    <div class="step-title"
                         data-en="Cloud, Robots &amp; Hardware Race üèÅ"
                         data-de="Cloud, Roboter &amp; Hardware-Rennen üèÅ"
                         data-es="Nube, robots y carrera de hardware üèÅ"
                         data-pt="Nuvem, rob√¥s &amp; corrida de hardware üèÅ">
                        Cloud, Robots &amp; Hardware Race üèÅ
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">‚òÅÔ∏è ‚ûî ü§ñ</div>
                    <p class="step-description"
                       data-en="You don't just pick a chip ‚Äî you pick where that chip lives: in your laptop, in a robot, or in the cloud."
                       data-de="Du w√§hlst nicht nur einen Chip ‚Äì du w√§hlst auch, wo er lebt: im Laptop, im Roboter oder in der Cloud."
                       data-es="No solo eliges un chip: eliges d√≥nde vive ese chip: en tu port√°til, en un robot o en la nube."
                       data-pt="Voc√™ n√£o escolhe s√≥ o chip ‚Äì escolhe tamb√©m onde ele vive: no laptop, no rob√¥ ou na nuvem.">
                        You don't just pick a chip ‚Äî you pick <strong>where</strong> that chip lives:
                        in your laptop, in a robot, or in the cloud.
                    </p>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>‚òÅÔ∏è Central ‚ÄúCenter‚Äù (Cloud/Server)</h4>
                            <ul>
                                <li>Many robots or apps talk to a powerful server</li>
                                <li>Server has big GPUs/TPUs for heavy models</li>
                                <li>Data must travel over network (adds latency)</li>
                                <li>Good for big brains, not instant reactions</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>üìç On-device (‚ÄúRobot‚Äù / Edge)</h4>
                            <ul>
                                <li>Model runs directly on the phone/robot</li>
                                <li>Very low latency, works without internet</li>
                                <li>Each device needs its own hardware</li>
                                <li>Great for safety-critical real-time tasks</li>
                            </ul>
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">ü§ù Hybrid Setup</div>
                        A common real-world setup:
                        <ul style="margin-top:4px;">
                            <li>Fast "reflexes" (e.g. braking, collision avoidance) on the robot.</li>
                            <li>Heavy thinking (mapping, big planning, retraining) in the center/cloud.</li>
                        </ul>
                    </div>

                    <div class="simulation-container" style="margin-top: 14px;">
                        <div class="simulation-title"
                             data-en="CPU vs GPU vs TPU Race"
                             data-de="CPU vs GPU vs TPU ‚Äì das Rennen"
                             data-es="Carrera CPU vs GPU vs TPU"
                             data-pt="Corrida CPU vs GPU vs TPU">
                            CPU vs GPU vs TPU Race
                        </div>
                        <p style="text-align:center; font-size:0.86rem; color:var(--ink-1); margin-bottom:8px;"
                           data-en="Imagine each bar is 100 goal-scoring chances to process. Who finishes first?"
                           data-de="Stell dir vor, jeder Balken sind 100 Torchancen, die verarbeitet werden m√ºssen. Wer ist zuerst fertig?"
                           data-es="Imagina que cada barra son 100 ocasiones de gol que procesar. ¬øQui√©n termina primero?"
                           data-pt="Imagine que cada barra s√£o 100 chances de gol para processar. Quem termina primeiro?">
                            Imagine each bar is 100 goal-scoring chances to process. Who finishes first?
                        </p>

                        <div class="race-row">
                            <div class="race-label">CPU üß† (one play at a time)</div>
                            <div class="race-track">
                                <div class="race-bar cpu-bar"></div>
                            </div>
                            <div class="race-status" id="cpuRaceStatus">Ready</div>
                        </div>

                        <div class="race-row">
                            <div class="race-label">GPU üéÆ (many plays in parallel)</div>
                            <div class="race-track">
                                <div class="race-bar gpu-bar"></div>
                            </div>
                            <div class="race-status" id="gpuRaceStatus">Ready</div>
                        </div>

                        <div class="race-row">
                            <div class="race-label">TPU ‚ö° (optimized passing engine)</div>
                            <div class="race-track">
                                <div class="race-bar tpu-bar"></div>
                            </div>
                            <div class="race-status" id="tpuRaceStatus">Ready</div>
                        </div>

                        <div style="text-align:center; margin-top:8px;">
                            <!-- Clicking these should NOT collapse the step card -->
                            <button class="control-btn" onclick="startHardwareRace()">üèÉ Start Race</button>
                            <button class="control-btn" onclick="resetHardwareRace()">üîÑ Reset</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STEP 7: Training vs Inference -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">7</div>
                    <div class="step-title"
                         data-en="Training vs Inference üéì vs üöÄ"
                         data-de="Training vs Inferenz üéì vs üöÄ"
                         data-es="Entrenamiento vs inferencia üéì vs üöÄ"
                         data-pt="Treino vs infer√™ncia üéì vs üöÄ">
                        Training vs Inference üéì vs üöÄ
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">üéì ‚ûî üöÄ</div>
                    <p class="step-description"
                       data-en="Training is like long weeks of practice ‚Äî you learn from millions of drills. Inference is match day ‚Äî you use what you learned, fast."
                       data-de="Training ist wie lange √úbungswochen ‚Äì du lernst aus Millionen von Drills. Inferenz ist Spieltag ‚Äì du setzt das Gelernte schnell um."
                       data-es="El entrenamiento son semanas de pr√°ctica: aprendes de millones de ejercicios. La inferencia es el d√≠a del partido: usas lo aprendido, r√°pido."
                       data-pt="Treinar √© como semanas de treino ‚Äì voc√™ aprende com milh√µes de exerc√≠cios. Infer√™ncia √© dia de jogo ‚Äì voc√™ usa o que aprendeu, r√°pido.">
                        Training is like long weeks of practice ‚Äî you learn from millions of drills.
                        Inference is match day ‚Äî you use what you learned, fast.
                    </p>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>üéì Training (Learning Phase)</h4>
                            <ul>
                                <li>Process millions/billions of examples</li>
                                <li>Needs forward pass AND backward pass (gradients)</li>
                                <li>Stores activations, gradients, optimizer state</li>
                                <li>Memory hungry: 3‚Äì4√ó model size</li>
                                <li>Can take days or weeks on powerful GPUs</li>
                                <li>Batch size can be large (32, 64, 128+)</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>üöÄ Inference (Production Phase)</h4>
                            <ul>
                                <li>Process one input (or small batch) at a time</li>
                                <li>Only forward pass needed</li>
                                <li>Only stores model weights</li>
                                <li>Memory efficient: just the model</li>
                                <li>Must be fast: milliseconds matter</li>
                                <li>Often batch size = 1 for low latency</li>
                            </ul>
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üí° Key Insight</div>
                        Training is like building a playbook (expensive, one-time).
                        Inference is like running those plays every match (cheap, millions of times).
                    </div>

                    <div class="simulation-container">
                        <div class="simulation-title"
                             data-en="Memory Usage Comparison"
                             data-de="Vergleich der Speichernutzung"
                             data-es="Comparaci√≥n de uso de memoria"
                             data-pt="Compara√ß√£o de uso de mem√≥ria">
                            Memory Usage Comparison
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 10px 0;">
                            <div style="text-align: center;">
                                <h4 style="color: var(--ink-0); margin-bottom: 6px; font-size:0.9rem;">Training Memory</h4>
                                <div style="display: flex; flex-direction: column; gap: 6px; font-size:0.86rem;">
                                    <div style="background: #fee2e2; padding: 8px; border-radius: 8px; border-left: 4px solid #dc2626;">
                                        <strong>Model Weights</strong><br>
                                        <span>100%</span>
                                    </div>
                                    <div style="background: #fef3c7; padding: 8px; border-radius: 8px; border-left: 4px solid #f59e0b;">
                                        <strong>Gradients</strong><br>
                                        <span>100%</span>
                                    </div>
                                    <div style="background: #dbeafe; padding: 8px; border-radius: 8px; border-left: 4px solid #3b82f6;">
                                        <strong>Optimizer State</strong><br>
                                        <span>200%</span>
                                    </div>
                                    <div style="background: #e0e7ff; padding: 8px; border-radius: 8px; border-left: 4px solid #6366f1;">
                                        <strong>Activations</strong><br>
                                        <span>Variable</span>
                                    </div>
                                </div>
                                <div style="margin-top: 6px; font-weight: 600; color: #92400e; font-size:0.86rem;">
                                    Total: ~4‚Äì5√ó model size
                                </div>
                            </div>
                            <div style="text-align: center;">
                                <h4 style="color: #166534; margin-bottom: 6px; font-size:0.9rem;">Inference Memory</h4>
                                <div style="display: flex; flex-direction: column; gap: 6px; font-size:0.86rem;">
                                    <div style="background: #dcfce7; padding: 8px; border-radius: 8px; border-left: 4px solid #16a34a;">
                                        <strong>Model Weights</strong><br>
                                        <span>100%</span>
                                    </div>
                                    <div style="background: #f0fdf4; padding: 22px; border-radius: 8px; border: 2px dashed #86efac;">
                                        <span style="font-size: 0.82rem; color: #166534;">Much lighter!</span>
                                    </div>
                                </div>
                                <div style="margin-top: 6px; font-weight: 600; color: #166534; font-size:0.86rem;">
                                    Total: ~1√ó model size
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üîß Common Optimizations</div>
                        <ul>
                            <li><strong>Training:</strong> Mixed precision (FP16), gradient checkpointing, distributed training</li>
                            <li><strong>Inference:</strong> Quantization (INT8), pruning, operator fusion, batch processing</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- STEP 8: Power & Sustainability -->
            <div class="step">
                <div class="step-header">
                    <div class="step-number">8</div>
                    <div class="step-title"
                         data-en="Power Efficiency &amp; Sustainability ‚ôªÔ∏è"
                         data-de="Energieeffizienz &amp; Nachhaltigkeit ‚ôªÔ∏è"
                         data-es="Eficiencia energ√©tica y sostenibilidad ‚ôªÔ∏è"
                         data-pt="Efici√™ncia energ√©tica &amp; sustentabilidade ‚ôªÔ∏è">
                        Power Efficiency &amp; Sustainability ‚ôªÔ∏è
                    </div>
                </div>
                <div class="step-content">
                    <div class="visual-icon">‚ôªÔ∏è ‚ûî üåç</div>
                    <p class="step-description"
                       data-en="As AI models grow, so does their appetite for electricity. Power efficiency isn't just about cost ‚Äî it's about the planet."
                       data-de="Je gr√∂√üer KI-Modelle werden, desto gr√∂√üer wird ihr Hunger nach Strom. Energieeffizienz ist nicht nur eine Kostenfrage ‚Äì es geht auch um den Planeten."
                       data-es="A medida que crecen los modelos de IA, tambi√©n lo hace su apetito de electricidad. La eficiencia energ√©tica no es solo cuesti√≥n de costes, sino del planeta."
                       data-pt="√Ä medida que os modelos de IA crescem, cresce tamb√©m o apetite por eletricidade. Efici√™ncia energ√©tica n√£o √© s√≥ custo ‚Äì √© tamb√©m sobre o planeta.">
                        As AI models grow, so does their appetite for electricity.
                        Power efficiency isn't just about cost ‚Äî it's about the planet.
                    </p>

                    <div class="info-box">
                        <div class="info-box-title">‚ö° Power vs Energy</div>
                        <ul>
                            <li><strong>Power</strong> = How much electricity right now (Watts)</li>
                            <li><strong>Energy</strong> = Total electricity over time (Watt-hours or kWh)</li>
                            <li>A fast chip might use more power but less total energy (finishes sooner)</li>
                        </ul>
                    </div>

                    <div class="comparison-grid">
                        <div class="comparison-card">
                            <h4>üí∞ Why Efficiency Matters</h4>
                            <ul>
                                <li>Electricity costs for data centers</li>
                                <li>Cooling systems (AC uses energy too!)</li>
                                <li>Carbon footprint &amp; environmental impact</li>
                                <li>Battery life for edge devices</li>
                                <li>Hardware lifespan &amp; heat stress</li>
                            </ul>
                        </div>
                        <div class="comparison-card">
                            <h4>üìä Typical Power Draw</h4>
                            <ul>
                                <li><strong>CPU:</strong> 15‚Äì150W (laptop to server)</li>
                                <li><strong>GPU:</strong> 150‚Äì700W (gaming to data center)</li>
                                <li><strong>TPU:</strong> 200‚Äì450W (optimized for efficiency)</li>
                                <li><strong>Edge chips:</strong> 1‚Äì15W (phones, IoT)</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Simple energy calculator -->
                    <div class="simulation-container">
                        <div class="simulation-title"
                             data-en="Energy Calculator"
                             data-de="Energie-Rechner"
                             data-es="Calculadora de energ√≠a"
                             data-pt="Calculadora de energia">
                            Energy Calculator
                        </div>
                        <p style="text-align:center; color:var(--ink-1); margin-bottom:8px; font-size: 0.88rem;"
                           data-en="See how hardware choice affects energy consumption for training a model"
                           data-de="Sieh dir an, wie die Hardwarewahl den Energieverbrauch beim Training eines Modells beeinflusst"
                           data-es="Mira c√≥mo la elecci√≥n de hardware afecta el consumo de energ√≠a al entrenar un modelo"
                           data-pt="Veja como a escolha de hardware afeta o consumo de energia ao treinar um modelo">
                            See how hardware choice affects energy consumption for training a model
                        </p>

                        <div style="background: #ffffff; padding: 12px; border-radius: 10px; margin: 8px 0; border:1px solid #e5e7eb;">
                            <div style="margin-bottom: 10px;">
                                <label style="display: block; margin-bottom: 4px; font-weight: 600; color: var(--ink-0); font-size:0.9rem;"
                                       data-en="Select Hardware:"
                                       data-de="Hardware ausw√§hlen:"
                                       data-es="Selecciona hardware:"
                                       data-pt="Selecione o hardware:">
                                    Select Hardware:
                                </label>
                                <select id="hwSelect">
                                    <option value="cpu">CPU (100W, 100 hours)</option>
                                    <option value="gpu" selected>GPU (300W, 10 hours)</option>
                                    <option value="tpu">TPU (250W, 5 hours)</option>
                                    <option value="edge">Edge Device (10W, 500 hours)</option>
                                </select>
                            </div>

                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 8px; margin-top: 8px;">
                                <div style="background: #f9fafb; padding: 8px; border-radius: 8px; text-align: center; border: 1px solid #fee2e2;">
                                    <div style="font-size: 0.8rem; color: #4b5563; margin-bottom: 2px;"
                                         data-en="Power Draw"
                                         data-de="Leistungsaufnahme"
                                         data-es="Potencia"
                                         data-pt="Pot√™ncia">
                                        Power Draw
                                    </div>
                                    <div style="font-size: 1.1rem; font-weight: 700; color: #b91c1c;" id="powerVal">300W</div>
                                </div>
                                <div style="background: #f9fafb; padding: 8px; border-radius: 8px; text-align: center; border: 1px solid #fef3c7;">
                                    <div style="font-size: 0.8rem; color: #4b5563; margin-bottom: 2px;"
                                         data-en="Training Time"
                                         data-de="Trainingszeit"
                                         data-es="Tiempo de entrenamiento"
                                         data-pt="Tempo de treino">
                                        Training Time
                                    </div>
                                    <div style="font-size: 1.1rem; font-weight: 700; color: #b45309;" id="timeVal">10 hours</div>
                                </div>
                                <div style="background: #f9fafb; padding: 8px; border-radius: 8px; text-align: center; border: 1px solid #dbeafe;">
                                    <div style="font-size: 0.8rem; color: #4b5563; margin-bottom: 2px;"
                                         data-en="Energy Used"
                                         data-de="Energieverbrauch"
                                         data-es="Energ√≠a usada"
                                         data-pt="Energia usada">
                                        Energy Used
                                    </div>
                                    <div style="font-size: 1.1rem; font-weight: 700; color: #1d4ed8;" id="energyVal">3.0 kWh</div>
                                </div>
                                <div style="background: #f9fafb; padding: 8px; border-radius: 8px; text-align: center; border: 1px solid #dcfce7;">
                                    <div style="font-size: 0.8rem; color: #4b5563; margin-bottom: 2px;"
                                         data-en="CO‚ÇÇ Footprint"
                                         data-de="CO‚ÇÇ-Fu√üabdruck"
                                         data-es="Huella de CO‚ÇÇ"
                                         data-pt="Pegada de CO‚ÇÇ">
                                        CO‚ÇÇ Footprint
                                    </div>
                                    <div style="font-size: 1.1rem; font-weight: 700; color: #15803d;" id="co2Val">1.4 kg</div>
                                </div>
                            </div>

                            <div style="margin-top: 8px; padding: 8px; background: #eff6ff; border-radius: 8px; font-size: 0.86rem; border-left: 4px solid #2563eb; color:var(--ink-1);">
                                <strong>Insight:</strong>
                                <span id="insightText">
                                    GPUs are faster but use more power. TPUs offer the best balance of speed and efficiency for this task.
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <div class="info-box-title">üå± Making AI More Sustainable</div>
                        <ul>
                            <li><strong>Model compression:</strong> Smaller models = less compute</li>
                            <li><strong>Efficient architectures:</strong> MobileNet, EfficientNet designed for efficiency</li>
                            <li><strong>Green energy:</strong> Data centers powered by renewable sources</li>
                            <li><strong>Smart scheduling:</strong> Train during off-peak hours or when renewable energy is abundant</li>
                            <li><strong>Hardware choice:</strong> Pick the right tool for the job (don't use a GPU when a CPU works)</li>
                        </ul>
                    </div>

                    <div class="quiz-section">
                        <div class="quiz-title">Real-world context</div>
                        <p style="margin: 6px 0; font-size: 0.88rem;">
                            Training GPT-3 (175B parameters) reportedly used around <strong>1,287 MWh</strong> of electricity ‚Äî
                            enough to power an average US home for about <strong>120 years</strong>, with a carbon footprint
                            of roughly <strong>552 metric tons of CO‚ÇÇ</strong>. This is why researchers focus on efficient training!
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer quote -->
        <div class="footer-note"
             data-en="‚ÄúAs models get bigger and smarter, the hardware story gets more interesting. The future of AI is as much about chips as it is about code.‚Äù ‚öΩ"
             data-de="‚ÄûJe gr√∂√üer und smarter Modelle werden, desto spannender wird die Hardware-Story. Die Zukunft der KI dreht sich genauso um Chips wie um Code.‚Äú ‚öΩ"
             data-es="¬´Cuanto m√°s grandes e inteligentes se vuelven los modelos, m√°s interesante se vuelve la historia del hardware. El futuro de la IA trata tanto de chips como de c√≥digo.¬ª ‚öΩ"
             data-pt="‚Äú√Ä medida que os modelos ficam maiores e mais inteligentes, a hist√≥ria do hardware fica mais interessante. O futuro da IA √© tanto sobre chips quanto sobre c√≥digo.‚Äù ‚öΩ">
            ‚ÄúAs models get bigger and smarter, the hardware story gets more interesting. The future of AI is as much about chips as it is about code.‚Äù ‚öΩ
        </div>
    </div>

    <!-- ========== MAIN SCRIPT: language, steps, simulations, energy calc, race ========== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ----- Language support -----
            function setLanguage(lang) {
                document.querySelectorAll('[data-en]').forEach(el => {
                    const text = el.getAttribute(`data-${lang}`) || el.getAttribute('data-en');
                    if (text !== null) {
                        el.textContent = text;
                    }
                });
                localStorage.setItem('selectedLanguageHardware', lang);
            }

            const langSelect = document.getElementById('languageSelect');
            const savedLang = localStorage.getItem('selectedLanguageHardware') || 'en';

            if (langSelect) {
                langSelect.value = savedLang;
                setLanguage(savedLang);
                langSelect.addEventListener('change', (e) => {
                    setLanguage(e.target.value);
                });
            } else {
                setLanguage(savedLang);
            }

            // ----- Steps accordion + progress bar -----
            const steps = Array.from(document.querySelectorAll('.step'));
            const progressFill = document.getElementById('progressFill');

            function updateProgress() {
                if (!progressFill) return;
                const total = steps.length || 1;
                const open = steps.filter(s => s.classList.contains('active')).length;
                const pct = (open / total) * 100;
                progressFill.style.width = pct + '%';
            }

            function toggleStep(step) {
                const isActive = step.classList.toggle('active');
                step.setAttribute('aria-expanded', String(isActive));
                updateProgress();
            }

            steps.forEach((step, i) => {
                step.setAttribute('role', 'button');
                step.setAttribute('tabindex', '0');
                step.setAttribute('aria-expanded', 'false');

                const title = step.querySelector('.step-title');
                const content = step.querySelector('.step-content');
                if (!title || !content) return;

                const titleId = title.id || `step${i + 1}-title`;
                const contentId = content.id || `step${i + 1}-content`;

                title.id = titleId;
                content.id = contentId;

                step.setAttribute('aria-controls', contentId);
                content.setAttribute('role', 'region');
                content.setAttribute('aria-labelledby', titleId);

                // Keyboard toggling
                step.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        toggleStep(step);
                    }
                });

                // Click toggling
                step.addEventListener('click', (e) => {
                    // ignore clicks on interactive elements
                    if (e.target.closest('button, select, .race-track')) {
                        return;
                    }
                    toggleStep(step);
                });
            });

            // Start with first step open
            if (steps[0]) {
                steps[0].classList.add('active');
                steps[0].setAttribute('aria-expanded', 'true');
            }
            updateProgress();

            // Initialize CPU, GPU, TPU grids
            initCPUGrid();
            initGPUGrid();
            initTPUGrid();

            // Energy calculator
            const hwSelect = document.getElementById('hwSelect');
            if (hwSelect) {
                hwSelect.addEventListener('click', (e) => {
                    // prevent step click handler from toggling when selecting
                    e.stopPropagation();
                });

                hwSelect.addEventListener('change', () => {
                    updateEnergyCalculator();
                });

                updateEnergyCalculator();
            }
        });

        // ----- CPU Grid -----
        function initCPUGrid() {
            const cpuCanvas = document.getElementById('cpuCanvas');
            if (!cpuCanvas) return;
            cpuCanvas.innerHTML = '';
            // Players in line (mix of players + footballs)
            const emojis = ['üßë‚Äçü¶±', 'üßë‚Äçü¶∞', 'üßë‚Äçü¶≥', 'üßë‚Äçü¶≤', '‚öΩ', 'üßë‚Äçü¶±', 'üßë‚Äçü¶∞', '‚öΩ'];
            for (let i = 0; i < 12; i++) {
                const div = document.createElement('div');
                div.className = 'cpu-customer';
                div.textContent = emojis[i % emojis.length];
                cpuCanvas.appendChild(div);
            }
        }

        function runCpuSim(e, btn) {
            e.stopPropagation();
            const cpuCanvas = document.getElementById('cpuCanvas');
            if (!cpuCanvas) return;
            btn.disabled = true;
            const customers = cpuCanvas.querySelectorAll('.cpu-customer');
            customers.forEach(c => {
                c.classList.remove('processing', 'done');
            });
            const caption = document.getElementById('cpuCaption');
            if (caption) caption.textContent = 'CPU: ‚ÄúOne player, one ball, one shot‚Ä¶ next!‚Äù';

            let i = 0;
            const interval = setInterval(() => {
                if (i > 0) {
                    customers[i - 1].classList.remove('processing');
                    customers[i - 1].classList.add('done');
                }
                if (i < customers.length) {
                    customers[i].classList.add('processing');
                    i++;
                } else {
                    clearInterval(interval);
                    btn.disabled = false;
                    if (caption) caption.textContent = 'CPU: ‚ÄúDrill complete ‚Äì next group of players!‚Äù';
                }
            }, 260);
        }

        // ----- GPU Grid -----
        function initGPUGrid() {
            const gpuCanvas = document.getElementById('gpuCanvas');
            if (!gpuCanvas) return;
            gpuCanvas.innerHTML = '';
            // Many players on multiple balls
            const emojis = ['üßë‚Äçü¶±', '‚öΩ', 'üßë‚Äçü¶∞', '‚öΩ', 'üßë‚Äçü¶≥', '‚öΩ', 'üßí', '‚öΩ'];
            for (let i = 0; i < 16; i++) {
                const div = document.createElement('div');
                div.className = 'gpu-customer';
                div.textContent = emojis[i % emojis.length];
                gpuCanvas.appendChild(div);
            }
        }

        function runGpuSim(e, btn) {
            e.stopPropagation();
            const gpuCanvas = document.getElementById('gpuCanvas');
            if (!gpuCanvas) return;
            btn.disabled = true;
            const customers = gpuCanvas.querySelectorAll('.gpu-customer');
            customers.forEach(c => c.classList.remove('processing', 'done'));
            const caption = document.getElementById('gpuCaption');
            if (caption) caption.textContent = 'GPU: ‚ÄúEveryone ready? On my whistle we all shoot!‚Äù';

            setTimeout(() => {
                customers.forEach(c => c.classList.add('processing'));
                setTimeout(() => {
                    customers.forEach(c => {
                        c.classList.remove('processing');
                        c.classList.add('done');
                    });
                    btn.disabled = false;
                    if (caption) caption.textContent = 'GPU: ‚ÄúTeam drill done ‚Äì that‚Äôs parallel power ‚ö°‚öΩ‚Äù';
                }, 900);
            }, 200);
        }

        // ----- TPU Passing Grid -----
        function initTPUGrid() {
            const tpuGrid = document.getElementById('tpuGrid');
            if (!tpuGrid) return;
            tpuGrid.innerHTML = '';
            // Players in a 4x4 grid
            const emojis = ['üßë‚Äçü¶±', 'üßë‚Äçü¶∞', 'üßë‚Äçü¶≥', 'üßë‚Äçü¶≤'];
            for (let i = 0; i < 16; i++) {
                const div = document.createElement('div');
                div.className = 'tpu-dancer';
                div.textContent = emojis[i % emojis.length];
                tpuGrid.appendChild(div);
            }
        }

        function runTpuDance(e, btn) {
            e.stopPropagation();
            btn.disabled = true;
            const cells = document.querySelectorAll('.tpu-dancer');
            cells.forEach(c => c.classList.remove('active'));

            const size = 4; // 4x4 grid
            let t = 0;
            const maxStep = (size - 1) * 2; // max diagonal index

            const interval = setInterval(() => {
                cells.forEach(c => c.classList.remove('active'));

                // Highlight players whose "diagonal index" equals t
                for (let i = 0; i < size; i++) {
                    for (let j = 0; j < size; j++) {
                        if (i + j === t) {
                            const index = i * size + j;
                            if (cells[index]) cells[index].classList.add('active');
                        }
                    }
                }

                t++;
                if (t > maxStep) {
                    clearInterval(interval);
                    setTimeout(() => {
                        cells.forEach(c => c.classList.remove('active'));
                        btn.disabled = false;
                    }, 350);
                }
            }, 220);
        }

        // ----- Race Simulation -----
        let raceInterval = null;

        function startHardwareRace() {
            if (raceInterval) clearInterval(raceInterval);

            const cpuBar = document.querySelector('.cpu-bar');
            const gpuBar = document.querySelector('.gpu-bar');
            const tpuBar = document.querySelector('.tpu-bar');

            const cpuStatus = document.getElementById('cpuRaceStatus');
            const gpuStatus = document.getElementById('gpuRaceStatus');
            const tpuStatus = document.getElementById('tpuRaceStatus');

            let cpuProgress = 0;
            let gpuProgress = 0;
            let tpuProgress = 0;

            cpuStatus.textContent = 'Racing...';
            gpuStatus.textContent = 'Racing...';
            tpuStatus.textContent = 'Racing...';

            raceInterval = setInterval(() => {
                cpuProgress = Math.min(cpuProgress + 1, 100);
                gpuProgress = Math.min(gpuProgress + 3, 100);
                tpuProgress = Math.min(tpuProgress + 4, 100);

                cpuBar.style.width = cpuProgress + '%';
                gpuBar.style.width = gpuProgress + '%';
                tpuBar.style.width = tpuProgress + '%';

                if (cpuProgress === 100 && cpuStatus.textContent === 'Racing...') {
                    cpuStatus.textContent = 'Finished';
                }
                if (gpuProgress === 100 && gpuStatus.textContent === 'Racing...') {
                    gpuStatus.textContent = 'Finished';
                }
                if (tpuProgress === 100 && tpuStatus.textContent === 'Racing...') {
                    tpuStatus.textContent = 'Finished';
                }

                if (cpuProgress === 100 && gpuProgress === 100 && tpuProgress === 100) {
                    clearInterval(raceInterval);
                    raceInterval = null;
                }
            }, 150);
        }

        function resetHardwareRace() {
            if (raceInterval) clearInterval(raceInterval);
            raceInterval = null;

            const cpuBar = document.querySelector('.cpu-bar');
            const gpuBar = document.querySelector('.gpu-bar');
            const tpuBar = document.querySelector('.tpu-bar');

            const cpuStatus = document.getElementById('cpuRaceStatus');
            const gpuStatus = document.getElementById('gpuRaceStatus');
            const tpuStatus = document.getElementById('tpuRaceStatus');

            cpuBar.style.width = '0%';
            gpuBar.style.width = '0%';
            tpuBar.style.width = '0%';

            cpuStatus.textContent = 'Ready';
            gpuStatus.textContent = 'Ready';
            tpuStatus.textContent = 'Ready';
        }

        // ----- Energy Calculator -----
        const HW_CONFIG = {
            cpu: {
                label: 'CPU',
                powerW: 100,
                hours: 100,
                insight: 'CPUs use less power at any moment, but can take so long that total energy adds up.'
            },
            gpu: {
                label: 'GPU',
                powerW: 300,
                hours: 10,
                insight: 'GPUs draw more power but finish fast, often using less total energy than CPUs for big jobs.'
            },
            tpu: {
                label: 'TPU',
                powerW: 250,
                hours: 5,
                insight: 'TPUs are specialized for tensor math, giving high performance and strong energy efficiency.'
            },
            edge: {
                label: 'Edge Device',
                powerW: 10,
                hours: 500,
                insight: 'Edge devices sip power, but long training times make them better suited for lightweight models.'
            }
        };

        const CO2_PER_KWH = 0.466;

        function updateEnergyCalculator() {
            const select = document.getElementById('hwSelect');
            if (!select) return;

            const choice = select.value;
            const cfg = HW_CONFIG[choice];
            if (!cfg) return;

            const power = cfg.powerW;
            const time = cfg.hours;
            const energyKWh = (power * time) / 1000;
            const co2Kg = energyKWh * CO2_PER_KWH;

            const powerVal = document.getElementById('powerVal');
            const timeVal = document.getElementById('timeVal');
            const energyVal = document.getElementById('energyVal');
            const co2Val = document.getElementById('co2Val');
            const insightText = document.getElementById('insightText');

            if (powerVal) powerVal.textContent = power + 'W';
            if (timeVal) timeVal.textContent = time + ' hours';
            if (energyVal) energyVal.textContent = energyKWh.toFixed(1) + ' kWh';
            if (co2Val) co2Val.textContent = co2Kg.toFixed(1) + ' kg';
            if (insightText) insightText.textContent = cfg.insight;
        }
    </script>

    <!-- ========== FLOATING FOOTBALL EMOJIS SCRIPT ========== -->
    <script>
        (function () {
            const sky = document.getElementById('footballSky');
            if (!sky) return;

            const prefersReduced =
                window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            if (prefersReduced) return;

            const EMOJIS = ['‚öΩ', 'ü•Ö', 'üèÉ‚Äç‚ôÇÔ∏è', 'üèÉ‚Äç‚ôÄÔ∏è', 'üß§', 'üèüÔ∏è'];
            const COUNT = 22;

            for (let i = 0; i < COUNT; i++) {
                const span = document.createElement('span');
                span.className = 'football-float';
                span.textContent = EMOJIS[Math.floor(Math.random() * EMOJIS.length)];

                const startX = Math.random() * 100 + 'vw';
                const endX = (Math.random() * 40 - 20) + 'vw';
                const duration = 12 + Math.random() * 12;

                span.style.setProperty('--x-start', startX);
                span.style.setProperty('--x-end', endX);
                span.style.left = startX;
                span.style.bottom = (-20 - Math.random() * 80) + 'vh';
                span.style.animationDuration = duration + 's';

                sky.appendChild(span);
            }
        })();
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const field = document.getElementById('footballSky');
            if (!field) return;

            const TEAM_EMOJIS = ['‚öΩ','‚öΩ', 'üèÜ', 'üëü', 'ü•Ö', 'üéÆ'];
            const PLAYER_COUNT = 12;

            const pick = arr => arr[Math.floor(Math.random() * arr.length)];

            for (let i = 0; i < PLAYER_COUNT; i++) {
                const span = document.createElement('div');
                span.className = 'football-float';
                span.textContent = pick(TEAM_EMOJIS);
                span.setAttribute('aria-hidden', 'true');

                const duration = 35 + Math.random() * 40;
                span.style.setProperty('--duration', duration + 's');

                const topPos = Math.random() * 90;
                span.style.top = topPos + 'vh';

                const delay = -(Math.random() * duration);
                span.style.animationDelay = delay + 's';

                field.appendChild(span);

                span.addEventListener('animationiteration', () => {
                    span.style.top = (Math.random() * 90) + 'vh';
                    if (Math.random() > 0.5) {
                        span.textContent = pick(TEAM_EMOJIS);
                    }
                    const nextDur = 35 + Math.random() * 40;
                    span.style.setProperty('--duration', nextDur + 's');
                });
            }
        });
    </script>
</body>
</html>
